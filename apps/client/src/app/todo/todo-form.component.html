<!--
  Todo Form Component Template
  
  This template provides a form for creating new todos.
  
  Key Angular features used:
  - (ngSubmit): Form submission event handler
  - [(ngModel)]: Two-way data binding (banana in a box syntax)
  - #todoForm="ngForm": Template reference variable for form validation
  - [disabled]: Property binding to disable button based on conditions
  - *ngIf: Conditional rendering
  - {{ }}: String interpolation with ternary operator
-->
<div class="todo-form-container">
  <h2>Create New Todo</h2>

  <!-- 
    (ngSubmit): Calls onSubmit() method when form is submitted (Enter key or button click)
    #todoForm="ngForm": Creates a reference to the form for validation (not used yet, but good practice)
  -->
  <form (ngSubmit)="onSubmit()" #todoForm="ngForm">
    <div class="form-group">
      <label for="title">Title *</label>
      <!-- 
        [(ngModel)]: Two-way data binding
        - When user types, updates component's 'title' property
        - When component's 'title' changes, updates input value
        - The "banana in a box" syntax: [()] combines property binding [] and event binding ()
        required: HTML5 validation - prevents submission if empty
      -->
      <input
        type="text"
        id="title"
        name="title"
        [(ngModel)]="title"
        required
        class="form-control"
        placeholder="Enter todo title"
      />
    </div>

    <div class="form-group">
      <label for="description">Description *</label>
      <!-- Same two-way binding as title input -->
      <textarea
        id="description"
        name="description"
        [(ngModel)]="description"
        required
        class="form-control"
        rows="3"
        placeholder="Enter todo description"
      ></textarea>
    </div>

    <!-- Show error message if validation or API call fails -->
    <div *ngIf="error" class="error-message">{{ error }}</div>

    <!-- 
      Submit button
      [disabled]: Property binding - disables button when:
        - loading is true (API call in progress)
        - title is empty (after trimming whitespace)
        - description is empty (after trimming whitespace)
      {{ }}: Ternary operator - shows "Creating..." when loading, else "Create Todo"
    -->
    <button
      type="submit"
      [disabled]="loading || !title.trim() || !description.trim()"
      class="submit-btn"
    >
      {{ loading ? 'Creating...' : 'Create Todo' }}
    </button>
  </form>
</div>

